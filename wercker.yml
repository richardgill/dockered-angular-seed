box: wercker-labs/docker
build:
  steps:
    - script:
        name: Build the docker container
        code: |
          docker build -t peenuty/garner-webui .
    - script:
        name: Run specs
        code: |
          docker run -v $PWD/web:/mount/garner-webui peenuty/garner-webui bash -l -c "~/startXserver.sh && cd /mount/garner-webui &&  npm install && bower install --allow-root && grunt" 
no-response-timeout: 10